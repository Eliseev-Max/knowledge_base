Services top-level elements

##########
# expose #
##########
(https://docs.docker.com/compose/compose-file/05-services/#expose)

expose определяет (входящий) порт или диапазон портов, которые Compose открывает из контейнера.

[Требования к exposed-портам:]
  * эти порты должны быть доступны для связанных служб
  * эти порты не должны публиковаться на хост-машине
    (запрещено: -p, --publish, = для docker run; ports: - для docker compose)

  => Можно указывать только внутренние порты контейнера.


[Синтаксис:]

<portnum>/[<proto>]
  <или>
<startport-endport>/[<proto>]    # для диапазона портов.

# <portnum> - номер порта
# <proto> - протокол (tcp, udp,...)
# startport - порт, с которого начинается диапазон
# endport - порт, которым заканчивается диапазон

[!] Если протокол не задан явно, используется протокол tcp.


[Пример:]
---
expose:
  - "3000"
  - "8000"
  - "8080-8085/tcp"
---


[ЗАМЕЧАНИЕ!]
  Если Dockerfile для образа уже раскрывает порты (есть директива EXPOSE <portnum>),
  он будет виден другим контейнерам в сети, ДАЖЕ ЕСЛИ expose НЕ УСТАНОВЛЕН в файле Compose.
