Nexus3 official documentation

[sources:]
1) "Sonatype Nexus Repository Reference Architectures": https://help.sonatype.com/en/sonatype-nexus-repository-reference-architectures.html
2) "Tasks": https://help.sonatype.com/en/tasks.html#configuring-and-executing-tasks
3) "Nexus Repository Database Options": https://help.sonatype.com/en/database-options.html
4) "Configure and Run the Backup Task": https://help.sonatype.com/en/configure-and-run-the-backup-task.html


#########################################################
# (1) Sonatype Nexus Repository Reference Architectures #
#########################################################

"""
[+] Использование ПРАВИЛЬНОЙ эталонной архитектуры жизненно важно для обеспечения стабильности и производительности вашего deployment'а.
[-] НЕПРАВИЛЬНОЕ выделение ресурсов может привести
    * к снижению производительности и,
    * (в некоторых случаях) к нарушению целостности данных или их потере в результате неправильного использования встроенной базы данных.
"""

(?) Как использовать эти эталонные архитектуры

  Каждая эталонная архитектура описывает стратегии развертывания и системные требования ДЛЯ ОДНОГО развертывания Nexus Repository.
  Многие организации используют несколько развертываний Nexus Repository
    ✓ для обслуживания различных бизнес-подразделений
      <или>
    ✓ обеспечения масштабируемости по регионам.

  Обычно на разные развертывания приходится разная нагрузка.
[Например:]
  (основной deployment Nexus Repository):
    может представлять собой многоузловой кластер, который обрабатывает запросы разработчиков и все ночные сборки для крупной организации.
<в то же время>
  (второй deployment:)
    служит кэшем приложений только для чтения в производственном центре обработки данных
    и потребляет гораздо меньше трафика.


[Сочетание шаблонов развертывания с эталонными архитектурами:]
  В сочетании с этими эталонными архитектурами мы также предоставляем обширную библиотеку шаблонов развертывания;\
  многие развертывания используют комбинацию шаблонов для выполнения бизнес-потребностей.
  Некоторые модели (например, модель "звезда" или объединенные репозитории) объясняют,
  как соединить развертывания для удовлетворения более широких организационных потребностей.

  Независимо от модели развертывания, важно убедиться, что каждое отдельное развертывание правильно настроено для нагрузки, которую оно испытывает,
  как определено в этих архитектурах.


#########################################
# (3) Nexus Repository Database Options #
#########################################

Sonatype Nexus Repository имеет два варианта базы данных:
  1) Внешняя база данных PostgreSQL (Предпочтительно)
    - Требуется платная лицензия Pro
  2) Встроенная база данных H2

# Устаревшая встроенная база данных OrientDB в Sonatype Nexus Repository перешла на расширенное обслуживание
  (extended maintenance) в августе 2024 года.

#(!) Всем клиентам Sonatype Nexus Repository НАСТОЯТЕЛЬНО РЕКОМЕНДУЕТСЯ ПЕРЕЙТИ с OrientDB.
#(!) Однако, если вы не можете перейти, имейте в виду, что вам придется остаться на линии версий 3.70.x.
#(!) Версии 3.71.0 и выше НЕ ПОДДЕРЖИВАЮТ OrientDB.
## [Мы используем: sonatype/nexus3:3.72.0]

[Преимкщества внешней БД PostgreSQL:]
  ✓ Критически важные развертывания любого масштаба;
  ✓ Корпоративные развертывания (Enterprise deployments);
  ✓ Облачные развертывания (AWS, Azure);
  ✓ Развертывания в Kubernetes;
  ✓ Развертывания, планирующие использовать отказоустойчивую или высокодоступную (HA) модель развертывания;
  ✓ Динамическое резервное копирование для более короткого окна обслуживания;
  ✓ Развертывания, желающие использовать любые из наших  PostgreSQL-only features
    (https://help.sonatype.com/en/database-options.html#postgresql-only-features)

[Специфика использования встроенной БД H2:]
  Развертывания OSS репозитория
  Небольшие рабочие нагрузки (поддерживается* максимум 20 000 запросов в день и 100 000 компонентов);
  #(см. эталонные архитектуры репозиториев Nexus)
  Развертывания для одной команды (Single-team deployments);
  Развертывания, не имеющие критического значения для миссии (Non-mission-critical deployments);
  Одноразовые развертывания (например, временные прокси).

#(*) Если использовать Sonatype Nexus Repository за пределами этих поддерживаемых уровней,
#    он может стать нестабильным и вести себя неожиданным образом.
#    Sonatype не может гарантировать поддержку использования Sonatype Nexus Repository за этими пределами.


[Преимущества внешней базы данных:]
  Использование внешней базы данных имеет ряд преимуществ:
    + легче масштабировать развертывание;
    + требуется для наших вариантов  High Availability Deployment;
    + использование управляемых отказоустойчивых облачных баз данных: AWS Aurora, RDS, Azure и т. д.
    + Улучшенная оркестровка контейнеров, таких как Kubernetes и OpenShift;
    + Полная доступность при резервном копировании;
    + Поддержка моделей развертывания облаков с multi-AZ;
    + Более простое и легкое аварийное восстановление